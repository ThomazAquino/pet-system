<pet-header-profile [headerData]="{tutor: tutorFormGroup.value}"
                    (imageUploaded)="handleImageUploaded($event)"></pet-header-profile>

<form *ngIf="tutorFormGroup" [formGroup]="tutorFormGroup" [ngClass]="routeAnimationsElements" class="profile-form">
  <mat-form-field appearance="fill">
    <mat-label>Nome</mat-label>
    <input matInput placeholder="name"
      formControlName="name" required>
    <mat-error *ngIf="tutorFormGroup.get('name').invalid">
      {{ 'anms.examples.crud.placeholder1' | translate }}
      {{ 'anms.examples.crud.error' | translate }}
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>Sobre nome</mat-label>
    <input matInput placeholder="lastName"
      formControlName="lastName" required>
    <mat-error *ngIf="tutorFormGroup.get('lastName').invalid">
      {{ 'anms.examples.crud.placeholder1' | translate }}
      {{ 'anms.examples.crud.error' | translate }}
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>CPF</mat-label>
    <input matInput placeholder="cpf"
      formControlName="cpf" required>
    <mat-error *ngIf="tutorFormGroup.get('cpf').invalid">
      {{ 'anms.examples.crud.placeholder1' | translate }}
      {{ 'anms.examples.crud.error' | translate }}
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>birthday</mat-label>
    <input matInput placeholder="birthday"
      formControlName="birthday" required>
    <mat-error *ngIf="tutorFormGroup.get('birthday').invalid">
      {{ 'anms.examples.crud.placeholder1' | translate }}
      {{ 'anms.examples.crud.error' | translate }}
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill" style="grid-column: 1 / 3;">
    <mat-label>street</mat-label>
    <input matInput placeholder="street"
      formControlName="street" required>
    <mat-error *ngIf="tutorFormGroup.get('street').invalid">
      {{ 'anms.examples.crud.placeholder1' | translate }}
      {{ 'anms.examples.crud.error' | translate }}
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>streetNumber</mat-label>
    <input matInput placeholder="streetNumber"
      formControlName="streetNumber" required>
    <mat-error *ngIf="tutorFormGroup.get('streetNumber').invalid">
      {{ 'anms.examples.crud.placeholder1' | translate }}
      {{ 'anms.examples.crud.error' | translate }}
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>postalCode</mat-label>
    <input matInput placeholder="postalCode"
      formControlName="postalCode" required>
    <mat-error *ngIf="tutorFormGroup.get('postalCode').invalid">
      {{ 'anms.examples.crud.placeholder1' | translate }}
      {{ 'anms.examples.crud.error' | translate }}
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>tel</mat-label>
    <input matInput placeholder="tel"
      formControlName="tel" required>
    <mat-error *ngIf="tutorFormGroup.get('tel').invalid">
      {{ 'anms.examples.crud.placeholder1' | translate }}
      {{ 'anms.examples.crud.error' | translate }}
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="fill">
    <mat-label>cellPhone</mat-label>
    <input matInput placeholder="cellPhone"
      formControlName="cellPhone" required>
    <mat-error *ngIf="tutorFormGroup.get('cellPhone').invalid">
      {{ 'anms.examples.crud.placeholder1' | translate }}
      {{ 'anms.examples.crud.error' | translate }}
    </mat-error>
  </mat-form-field>

  <button
    class="accent-button"
    type="submit"
    *ngIf="isNew"
    (click)="save()"
    style="margin-top: 30px;">
    Fnalizar cadastro
  </button>

</form> 

<div class="row">
  <div class="col-12 d-flex justify-content-end" *ngIf="formValueChanges$ | async">
    <button (click)="cancelEditing()" mat-raised-button style="margin-right: 15px;">
      descartar
    </button>
    <button [disabled]="tutorFormGroup.status !== 'VALID'" (click)="save()" mat-raised-button color="primary">
      salvar
    </button>
  </div>
</div>

<ng-container *ngIf="pets$ | async">
  <div class="pet-list">
    <h4 class="pet-list__title">Lista de Pets</h4>
    <pet-general-list [list]="pets$ | async" (rowClick)="onPetListClick($event)" ></pet-general-list>
  </div>
</ng-container>


<button class="accent-button" *ngIf="!isNew" (click)="onAddPetClick()">Adicionar Pet</button>



